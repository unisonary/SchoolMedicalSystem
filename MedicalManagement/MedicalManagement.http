@MedicalManagement_HostAddress = http://localhost:5255

GET {{MedicalManagement_HostAddress}}/weatherforecast/
Accept: application/json

###

# Manager Consent Management APIs

## Xem tất cả consent của kế hoạch
GET {{MedicalManagement_HostAddress}}/api/manager/assignments/consents/45
Authorization: Bearer {{manager_token}}

###

## Xem tất cả consent từ chối (thật sự)
GET {{MedicalManagement_HostAddress}}/api/manager/assignments/consents/denied
Authorization: Bearer {{manager_token}}

###

## Xem consent từ chối qua email (cần xác nhận)
GET {{MedicalManagement_HostAddress}}/api/manager/assignments/consents/email-denied
Authorization: Bearer {{manager_token}}

###

## Xem consent từ chối qua email của kế hoạch cụ thể
GET {{MedicalManagement_HostAddress}}/api/manager/assignments/consents/email-denied?planId=45
Authorization: Bearer {{manager_token}}

###

## Lấy danh sách học sinh đã từ chối theo kế hoạch (cho UI)
GET {{MedicalManagement_HostAddress}}/api/manager/assignments/denied-students/45
Authorization: Bearer {{manager_token}}

###

## Test endpoint - Kiểm tra tất cả consent của kế hoạch
GET {{MedicalManagement_HostAddress}}/api/manager/assignments/test-consents/45
Authorization: Bearer {{manager_token}}

###

## Test endpoint - Kiểm tra danh sách students và class
GET {{MedicalManagement_HostAddress}}/api/manager/assignments/test-students
Authorization: Bearer {{manager_token}}

###

## Tạo test data - consent từ chối (planId=45, studentId=1)
POST {{MedicalManagement_HostAddress}}/api/manager/assignments/create-test-denial/45/1
Authorization: Bearer {{manager_token}}

###

## Tạo test data với thông tin lớp (planId=45, studentId=1, class=12A1)
POST {{MedicalManagement_HostAddress}}/api/manager/assignments/create-test-denial/45/1?className=12A1
Authorization: Bearer {{manager_token}}

###

## Cập nhật lý do từ chối (cho cả Denied và Email_Denied)
PUT {{MedicalManagement_HostAddress}}/api/manager/assignments/consents/123/notes
Authorization: Bearer {{manager_token}}
Content-Type: application/json

{
  "notes": "Phụ huynh lo ngại về tác dụng phụ của vaccine. Đã trao đổi và giải thích nhưng vẫn từ chối tham gia."
}
